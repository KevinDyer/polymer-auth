<dom-module id="auth-app">
  <style>
    :host {
      display: block;
    }

    .login {
      width: 320px;
    }
  </style>
  <template>

    <paper-drawer-panel>
      <paper-header-panel drawer>
        <paper-toolbar>Menu</paper-toolbar>

        <paper-menu attr-for-selected="hash" selected="{{page}}">
          <paper-item hash="home">Home</paper-item>
          <paper-item hash="users">Users</paper-item>
        </paper-menu>
      </paper-header-panel>

      <paper-header-panel main>
        <paper-toolbar>
          <paper-icon-button icon="menu" paper-drawer-toggle></paper-icon-button>
          <div class="title">My Auth App</div>
          <paper-menu-button horizontal-align="right">
            <paper-icon-button icon="more-vert" class="dropdown-trigger"></paper-icon-button>
            <paper-menu id="action" class="dropdown-content">
              <paper-item on-tap="onLogout">Logout</paper-item>
            </paper-menu>
          </paper-menu-button>
        </paper-toolbar>
      </paper-header-panel>
    </paper-drawer-panel>

    <paper-dialog class="login" opened="[[!user]]" modal>
      <h2>Login</h2>
      <paper-dialog-scrollable>
        Please login?
      </paper-dialog-scrollable>
      <div class="buttons">
        <paper-button on-tap="onLogin" dialog-confirm>Login</paper-button>
      </div>
    </paper-dialog>

    <firebase-auth id="auth" location="https://popping-fire-1621.firebaseio.com/" provider="google" user="{{user}}"></firebase-auth>
  </template>
</dom-module>
<script>
  Polymer({
    is: 'auth-app',

    onLogout: function() {
      this.$.auth.logout();
    },

    onLogin: function() {
      this.$.auth.login();
    }
  });
</script>
